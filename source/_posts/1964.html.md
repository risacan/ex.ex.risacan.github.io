---
title: "GitHub Pagesで公開しているサイトを独自ドメインでHTTPS化する方法"
category: 
tags: 
created_at: 2018-06-29 01:12:38 +0900
updated_at: 2018-06-29 01:12:38 +0900
published: true
number: 1964
---

GitHubには [GitHub Pages](https://pages.github.com/)  という機能があって、静的なサイトを無料で公開することができます。
このブログも、GitHub Pagesでホストしています。 [risacan/risacan\.github\.io](https://github.com/risacan/risacan.github.io)

GitHub Pagesには独自ドメインを適用することができます。私はお名前.comで`risacan.net`というドメインを取得して、GitHub Pagesのドメインとして利用しています。

これまで、GitHub Pagesで独自ドメインを使う場合は、外部サービスを使って設定しない限りは http 通信のみの接続でした。しかし、最近になって、GitHub Pagesでホストしていて、独自ドメインでも、簡単に https 通信の設定ができるようになりました。その手順をメモしておきます。

[Troubleshooting custom domains \- User Documentation](https://help.github.com/articles/troubleshooting-custom-domains/#https-errors)
<img width="801" alt="スクリーンショット 2018-06-29 0.53.37.png (352.9 kB)" src="https://img.esa.io/uploads/production/attachments/2057/2018/06/29/5683/708ceea1-8a89-43d3-afd0-90ff0c305224.png">
https の通信設定をするためにはDNSの設定が必要だそうです。
以下のいずれかのIPをドメインのAレコードに登録する必要があります。
```
185.199.108.153
185.199.109.153
185.199.110.153
185.199.111.153
```

さっそくお名前.comにアクセスして設定しましょう。
お名前.comめっちゃ見づらいのですが[どうにかしてドメインごとのDNS設定画面に移ります](https://www.onamae.com/domain/navi/dns_manage/select)。

![名称未設定.png (509.6 kB)](https://img.esa.io/uploads/production/attachments/2057/2018/06/29/5683/8d88a79f-f8dd-4d11-9076-e974f41bec9b.png)

そして指示どおりにレコードを更新します。
<img width="778" alt="ドメインNavi-3.png (192.0 kB)" src="https://img.esa.io/uploads/production/attachments/2057/2018/06/29/5683/a18d0277-482d-497b-b2dd-0cb8f5572206.png">

ターミナルを開いて、dig コマンドで設定を確認できます。

```
🌸 dig risacan.net

; <<>> DiG 9.10.6 <<>> risacan.net
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 23203
;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 512
;; QUESTION SECTION:
;risacan.net.			IN	A

;; ANSWER SECTION:
risacan.net.		29	IN	A	185.199.108.153
risacan.net.		29	IN	A	185.199.109.153

;; Query time: 52 msec
;; SERVER: 192.168.86.1#53(192.168.86.1)
;; WHEN: Fri Jun 29 00:44:26 JST 2018
;; MSG SIZE  rcvd: 72
```
うまく設定できてるっぽい :smiley: 

しかしながら、この時点で `https://risacan.net` にアクセスしても、エラーがでてしまいます
<img width="337" alt="スクリーンショット 2018-06-29 0.47.21.png (19.0 kB)" src="https://img.esa.io/uploads/production/attachments/2057/2018/06/29/5683/2c083f9f-cf27-43bc-921b-0c173472cc35.png">

該当repositoryのSettings > GitHub Pages > Enforce HTTPSの欄をよく見ると、最大24時間、Certificationに時間かかるかもだから、待っててね〜とのこと。
<img width="787" alt="スクリーンショット 2018-06-29 0.47.30.png (259.9 kB)" src="https://img.esa.io/uploads/production/attachments/2057/2018/06/29/5683/d0c0f8d9-38fe-480b-ae29-22753b1611f9.png">

しゃーなし、気軽に待つか〜と思いつつ何度かリフレッシュしたら、すぐ適用されました。
<img width="281" alt="スクリーンショット 2018-06-29 0.53.16.png (17.7 kB)" src="https://img.esa.io/uploads/production/attachments/2057/2018/06/29/5683/31e64ce5-ca15-4dc9-9de8-969d551d151a.png">

Settingsの方にもチェックマークがついてる :white_check_mark: 
<img width="790" alt="スクリーンショット 2018-06-29 0.52.16.png (232.8 kB)" src="https://img.esa.io/uploads/production/attachments/2057/2018/06/29/5683/f1bb35ff-af09-4cc0-a886-cd27df63843d.png">

個人サイトもHTTPS化したし、ぐっすり眠れます :sleeping: 



